{"mappings":"0lBAUA,MAAMA,GAAO,EAAAC,EAAAC,WACb,IAAIC,EACAC,EAAO,EACPC,EAAgB,GAChBC,EAAc,GAElBN,EAAKO,KAAKC,iBAAiB,UAG3BC,eAA4BC,GAQxB,GAPFA,EAAEC,iBACFX,EAAKY,QAAQC,UAAY,GAEzBT,EAAO,EACNC,EAAgBK,EAAEI,OAAOC,SAASC,YAAYC,MAC/CX,QAAoB,EAAAY,EAAAC,aAAYd,EAAeD,GAC/CJ,EAAKoB,MAAMH,MAAQ,GACc,IAA3BX,EAAYe,KAAKC,OAClB,OAAOC,EAAAC,GAASC,OAAOC,QAAQ,4EAEpC1B,EAAK2B,eAAeC,gBAAgB,UAEpC5B,EAAKY,QAAQiB,mBAAmB,aAAa,EAAAC,EAAA5B,SAAaI,IAC1DH,EAAW,IAAIoB,EAAAQ,GAAJ,CAAmB,eAC9B,EAAAb,EAAAc,UACAT,EAAAC,GAASC,OAAOQ,QAAQ,oBAAoB3B,EAAY4B,oB,IAlB1DlC,EAAK2B,eAAenB,iBAAiB,SAuBrCC,iBAGE,GAFA0B,QAAQC,IAAI/B,GACZ8B,QAAQC,IAAIpC,EAAKoB,MAAMH,OACnBb,IAASE,EAAY4B,UAEvB,OADAlC,EAAK2B,eAAeU,aAAa,UAAU,GACpCd,EAAAC,GAASC,OAAOC,QAAQ,8DAEjCtB,GAAQ,EACRD,EAASmC,UACThC,QAAoB,EAAAY,EAAAC,aAAYd,EAAeD,GAC/CJ,EAAKY,QAAQiB,mBAAmB,aAAa,EAAAC,EAAA5B,SAAaI,IAC1DN,EAAK2B,eAAeC,gBAAgB,UACpCO,QAAQC,IAAI9B,EAAY4B,U","sources":["src/index.js"],"sourcesContent":["import axios from 'axios';\nimport Notiflix from 'notiflix';\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\n\nimport getRefs from './refs.js';\nimport createmarkUp from './markup.js';\nimport { fetchImages, scroll } from './helpers.js';\n\nconst refs = getRefs();\nlet lightbox;\nlet page = 1;\nlet photoToSearch = '';\nlet photosArray = [];\n\nrefs.form.addEventListener('submit', onFormSubmit);\nrefs.loadMoreButton.addEventListener('click', onLoadMore)\n\nasync function onFormSubmit(e) {\n  e.preventDefault();\n  refs.gallery.innerHTML = '';\n \n  page = 1;\n   photoToSearch = e.target.elements.searchQuery.value;\n  photosArray = await fetchImages(photoToSearch, page);\n  refs.input.value = '';\n    if (photosArray.hits.length ===0) {\n       return Notiflix.Notify.failure(\"Sorry, there are no images matching your search query. Please try again.\");\n  }\n  refs.loadMoreButton.removeAttribute('hidden');\n  \n  refs.gallery.insertAdjacentHTML('beforeend', createmarkUp(photosArray));\n  lightbox = new SimpleLightbox('.gallery a');\n  scroll();\n  Notiflix.Notify.success(`Hooray! We found ${photosArray.totalHits} images.`);\n  \n}\n\n\nasync function onLoadMore() {\n  console.log(photoToSearch);\n  console.log(refs.input.value);\n  if (page === photosArray.totalHits) {\n    refs.loadMoreButton.setAttribute('hidden', true);\n    return Notiflix.Notify.failure(\"We're sorry, but you've reached the end of search results.\");\n  }\n  page += 1;\n  lightbox.refresh();\n  photosArray = await fetchImages(photoToSearch, page);\n  refs.gallery.insertAdjacentHTML('beforeend', createmarkUp(photosArray));\n  refs.loadMoreButton.removeAttribute('hidden');\n  console.log(photosArray.totalHits);\n}\n\n\n\n\n\n"],"names":["$1f0dc3b9307be026$var$refs","$cLm0d","default","$1f0dc3b9307be026$var$lightbox","$1f0dc3b9307be026$var$page","$1f0dc3b9307be026$var$photoToSearch","$1f0dc3b9307be026$var$photosArray","form","addEventListener","async","e","preventDefault","gallery","innerHTML","target","elements","searchQuery","value","$gJuA9","fetchImages","input","hits","length","$parcel$interopDefault","$7Y9D8","Notify","failure","loadMoreButton","removeAttribute","insertAdjacentHTML","$bG4Km","$fZKcF","scroll","success","totalHits","console","log","setAttribute","refresh"],"version":3,"file":"homework.d281639d.js.map"}