{"mappings":"iiBAAA,IAWIA,EAXJC,EAAAC,EAAA,S,8EAUMC,GAAO,EAAAC,EAAAC,WAETC,EAAO,EACPC,EAAgB,GAChBC,EAAc,G,SAKHC,I,OAAAA,EAAfC,EAAAT,EAAA,CAAAS,EAAAC,GAAAC,MAAA,SAAAC,EAA4BC,G,yEAC1BA,EAAEC,iBACFZ,EAAKa,QAAQC,UAAY,GAEzBX,EAAO,EACNC,EAAgBO,EAAEI,OAAOC,SAASC,YAAYC,M,UAC3B,EAAAC,EAAAC,aAAYhB,EAAeD,G,UAA/CE,EAAWgB,EAAAC,KACXtB,EAAKuB,MAAML,MAAQ,GACc,IAA3Bb,EAAYmB,KAAKC,OAAW,C,yCACtBlB,EAAAmB,GAASC,OAAOC,QAAQ,6E,QAEpC5B,EAAK6B,eAAeC,gBAAgB,UAEpC9B,EAAKa,QAAQkB,mBAAmB,aAAa,EAAAC,EAAA9B,SAAaG,IAC1DR,EAAW,IAAIU,EAAA0B,GAAJ,CAAmB,eAC9B,EAAAd,EAAAe,UACA3B,EAAAmB,GAASC,OAAOQ,QAAQ,oBAA0CC,OAAtB/B,EAAYgC,UAAU,a,6CAhBzCC,MAAAC,KAAAC,U,UAqBZC,I,OAAAA,EAAflC,EAAAT,EAAA,CAAAS,EAAAC,GAAAC,MAAA,SAAAC,I,qEACEgC,QAAQC,IAAIvC,GACZsC,QAAQC,IAAI3C,EAAKuB,MAAML,OACnBf,IAASE,EAAYgC,UAAS,C,sBAChCrC,EAAK6B,eAAee,aAAa,UAAU,G,kBACpCrC,EAAAmB,GAASC,OAAOC,QAAQ,+D,cAEjCzB,GAAQ,EACRN,EAASgD,U,UACW,EAAA1B,EAAAC,aAAYhB,EAAeD,G,OAA/CE,EAAWgB,EAAAC,KACXtB,EAAKa,QAAQkB,mBAAmB,aAAa,EAAAC,EAAA9B,SAAaG,IAC1DL,EAAK6B,eAAeC,gBAAgB,UACpCY,QAAQC,IAAItC,EAAYgC,W,6CAZDC,MAAAC,KAAAC,U,CAxBzBxC,EAAK8C,KAAKC,iBAAiB,U,SAGCpC,G,OAAbL,EAAYgC,MAAAC,KAAAC,U,IAF3BxC,EAAK6B,eAAekB,iBAAiB,S,kBAuBtBN,EAAUH,MAAAC,KAAAC,U","sources":["src/index.js"],"sourcesContent":["import axios from 'axios';\nimport Notiflix from 'notiflix';\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\n\nimport getRefs from './refs.js';\nimport createmarkUp from './markup.js';\nimport { fetchImages, scroll } from './helpers.js';\n\nconst refs = getRefs();\nlet lightbox;\nlet page = 1;\nlet photoToSearch = '';\nlet photosArray = [];\n\nrefs.form.addEventListener('submit', onFormSubmit);\nrefs.loadMoreButton.addEventListener('click', onLoadMore)\n\nasync function onFormSubmit(e) {\n  e.preventDefault();\n  refs.gallery.innerHTML = '';\n \n  page = 1;\n   photoToSearch = e.target.elements.searchQuery.value;\n  photosArray = await fetchImages(photoToSearch, page);\n  refs.input.value = '';\n    if (photosArray.hits.length ===0) {\n       return Notiflix.Notify.failure(\"Sorry, there are no images matching your search query. Please try again.\");\n  }\n  refs.loadMoreButton.removeAttribute('hidden');\n  \n  refs.gallery.insertAdjacentHTML('beforeend', createmarkUp(photosArray));\n  lightbox = new SimpleLightbox('.gallery a');\n  scroll();\n  Notiflix.Notify.success(`Hooray! We found ${photosArray.totalHits} images.`);\n  \n}\n\n\nasync function onLoadMore() {\n  console.log(photoToSearch);\n  console.log(refs.input.value);\n  if (page === photosArray.totalHits) {\n    refs.loadMoreButton.setAttribute('hidden', true);\n    return Notiflix.Notify.failure(\"We're sorry, but you've reached the end of search results.\");\n  }\n  page += 1;\n  lightbox.refresh();\n  photosArray = await fetchImages(photoToSearch, page);\n  refs.gallery.insertAdjacentHTML('beforeend', createmarkUp(photosArray));\n  refs.loadMoreButton.removeAttribute('hidden');\n  console.log(photosArray.totalHits);\n}\n\n\n\n\n\n"],"names":["$b8f9b7833fa37166$var$lightbox","$bpxeT","parcelRequire","$b8f9b7833fa37166$var$refs","$foHtm","default","$b8f9b7833fa37166$var$page","$b8f9b7833fa37166$var$photoToSearch","$b8f9b7833fa37166$var$photosArray","$b8f9b7833fa37166$var$_onFormSubmit","$parcel$interopDefault","$2TvXO","mark","_callee","e","preventDefault","gallery","innerHTML","target","elements","searchQuery","value","$doFtP","fetchImages","_ctx","sent","input","hits","length","$6JpON","Notify","failure","loadMoreButton","removeAttribute","insertAdjacentHTML","$knNGv","$5IjG7","scroll","success","concat","totalHits","apply","this","arguments","$b8f9b7833fa37166$var$_onLoadMore","console","log","setAttribute","refresh","form","addEventListener"],"version":3,"file":"homework.bec54c56.js.map"}